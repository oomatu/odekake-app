<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ãŠã§ã‹ã‘è¨˜éŒ²</title>
	<link rel="stylesheet" th:href="@{/css/style.css}">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
</head>

<body>
	<header>
		<div class="header-info">
			ã‚ˆã†ã“ãã€<span th:text="${username}">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</span> ã•ã‚“ï¼ã€€
			<span th:text="${today}">æ—¥ä»˜</span>
		</div>
	</header>

	<h1 style="text-align: center;">
		ãŠã§ã‹ã‘è¨˜éŒ²
		<img src="/images/miffy.png" alt="ãƒŸãƒƒãƒ•ã‚£ãƒ¼"
			style="height: 50px; vertical-align: middle; margin-left: 5px; margin-top: -16px;">
	</h1>

	<div class="nav-buttons">
		<form th:action="@{/inputOdekakeNew}" method="post">
			<input type="hidden" name="category" value="P" />
			<button type="submit">è¿½åŠ ğŸ¡ï¼šè¡ŒããŸã„å ´æ‰€</button>
		</form>

		<form th:action="@{/inputOdekakeNew}" method="post">
			<input type="hidden" name="category" value="R" />
			<button type="submit">è¿½åŠ ğŸšï¼šè¡ŒããŸã„ã”é£¯å±‹ã•ã‚“</button>
		</form>
	</div>

	<div id="place-section">
        <div class="list-header">
		    <h2 class="subtitle">ğŸ¡è¡ŒããŸã„å ´æ‰€</h2>
            <button type="button" id="show-restaurant" class="list-toggle-button">è¡¨ç¤ºåˆ‡æ›¿ï¼šã”é£¯å±‹ã•ã‚“ğŸš</button>
        </div>
        
		<table class="title-table" id="place-table">
			<thead>
				<tr>
					<th>ID</th>
					<th>ã‚¿ã‚¤ãƒˆãƒ«</th>
					<th>URL</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="info : ${placeList}">
					<td th:text="${info.id}">ID</td>
					<td>
						<a th:href="@{/detailOdekake(id=${info.id}, title=${info.title})}"
							th:text="${info.title}">ã‚¿ã‚¤ãƒˆãƒ«</a>
					</td>
					<td><a th:href="${info.url1}" th:text="${info.url1}">URL</a></td>
				</tr>
			</tbody>
		</table>
	</div>

	<div id="restaurant-section" style="display: none;">
        <div class="list-header">
		    <h2 class="subtitle">ğŸšè¡ŒããŸã„ã”é£¯å±‹ã•ã‚“</h2>
            <button type="button" id="show-place" class="list-toggle-button">è¡¨ç¤ºåˆ‡æ›¿ï¼šè¡ŒããŸã„å ´æ‰€ğŸ¡</button>
        </div>
        
		<table class="title-table" id="restaurant-table">
			<thead>
				<tr>
					<th>ID</th>
					<th>ã‚¿ã‚¤ãƒˆãƒ«</th>
					<th>URL</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="info : ${restaurantList}">
					<td th:text="${info.id}">ID</td>
					<td>
						<a th:href="@{/detailOdekake(id=${info.id}, title=${info.title})}"
							th:text="${info.title}">ã‚¿ã‚¤ãƒˆãƒ«</a>
					</td>
					<td><a th:href="${info.url1}" th:text="${info.url1}">URL</a></td>
				</tr>
			</tbody>
		</table>
	</div>

	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
	<script>
		$(document).ready(function () {
			// DataTablesã®åˆæœŸåŒ–
            // DataTablesã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¤‰æ•°ã«æ ¼ç´ã—ã¾ã™
			const placeTable = $('#place-table').DataTable({
				language: {url: "//cdn.datatables.net/plug-ins/1.13.6/i18n/ja.json"},
				order: [],
				columnDefs: [{targets: [0, 1, 2], orderable: false}]
			});

			const restaurantTable = $('#restaurant-table').DataTable({
				language: {url: "//cdn.datatables.net/plug-ins/1.13.6/i18n/ja.json"},
				order: [],
				columnDefs: [{targets: [0, 1, 2], orderable: false}]
			});
            
            // ãƒªã‚¹ãƒˆåˆ‡ã‚Šæ›¿ãˆã®å‡¦ç†
			$('#show-place').click(function () {
				$('#place-section').show();
				$('#restaurant-section').hide();
                // è¡¨ç¤ºã•ã‚ŒãŸå¾Œã«åˆ—å¹…ã‚’èª¿æ•´
                placeTable.columns.adjust().draw();
			});

			$('#show-restaurant').click(function () {
				$('#place-section').hide();
				$('#restaurant-section').show();
                // è¡¨ç¤ºã•ã‚ŒãŸå¾Œã«åˆ—å¹…ã‚’èª¿æ•´
                restaurantTable.columns.adjust().draw();
			});
		});
	</script>

</body>

</html>